{% extends 'base.html' %}

{% block content %}
{% load static %}
 <style>
    body { font-family: sans-serif; background: #f5f5f5; }
    .container { display: flex; }
    .sidebar { width: 220px; background: #e0e0e0; padding: 1em; }
    .main { flex: 1; padding: 1em; }
    input[type="text"] { width: 100%; margin-bottom: 10px; padding: 5px; }
    table { width: 100%; border-collapse: collapse; background: white; }
    th, td { padding: 8px; border: 1px solid #ccc; text-align: left; }
    .searchbar { float: right; }
    .btn { padding: 10px 20px; margin-top: 1em; background: #ccc; border-radius: 10px; border: 1px solid #999; font-weight: bold; }
  </style>
  <div class="container">
    <div class="sidebar">
      <h2>Filter</h2>
      <form method="get">
        <label>Material</label>
        <input type="text" name="material" value="{{ request.GET.material }}">
        <label>Quantity</label>
        <input type="text" name="quantity" value="{{ request.GET.quantity }}">
        <button type="submit">Apply</button>
      </form>
    </div>
    <div class="main">
      <form method="get" class="searchbar">
        <input type="text" name="q" placeholder="Search" value="{{ request.GET.q }}">
        <button type="submit">üîç</button>
      </form>
      <h1 style="text-align: center; font-size: 2em; color: #333; margin-top: 20px;">Inventory Management</h1>
      <table>
        <thead>
          <tr>
            <th>Item Id</th>
            <th>Material Type</th>
            <th>Qty</th>
            <th>Cost</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for item in inventory %}
          <tr>
            <td>{{ item.id }}</td>
            <td>{{ item.RawMaterial.Filament.Material.Name }} - {{ item.RawMaterial.Filament.Name }}</td>
            <td>{{ item.QuantityWeightAvailable }}g</td>
            <td>${{ item.UnitCost }}</td>
            <td><a href={% url 'edit-raw-material' item.RawMaterial.id %}>Edit</a> | <a href={% url 'delete-raw-material' item.RawMaterial.id %}>Delete</a></td>
          </tr>
          {% empty %}
          <tr><td colspan="5">No records found.</td></tr>
          {% endfor %}
        </tbody>
      </table>
      <a href="{% url 'add-raw-material' %}" class="btn">Add New Material</a>
    </div>
  </div>

  {% endblock %}